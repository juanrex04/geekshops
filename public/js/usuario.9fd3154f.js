(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuario"],{1511:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user"},[r("user")],1)},o=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container my-2"},[r("h1",[e._v("Ruta privada!")]),r("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(e._s(e.mensaje.texto))]),e.editar?r("form",{on:{submit:function(t){return t.preventDefault(),e.editarUser(e.userEditar)}}},[r("h3",[e._v("Editar usuario")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.nombre_user,expression:"userEditar.nombre_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre del usuario"},domProps:{value:e.userEditar.nombre_user},on:{input:function(t){t.target.composing||e.$set(e.userEditar,"nombre_user",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.usuario_user,expression:"userEditar.usuario_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"GameTag"},domProps:{value:e.userEditar.usuario_user},on:{input:function(t){t.target.composing||e.$set(e.userEditar,"usuario_user",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.email,expression:"userEditar.email"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Correo electronico"},domProps:{value:e.userEditar.email},on:{input:function(t){t.target.composing||e.$set(e.userEditar,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.password,expression:"userEditar.password"}],staticClass:"form-control my-2",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:e.userEditar.password},on:{input:function(t){t.target.composing||e.$set(e.userEditar,"password",t.target.value)}}}),r("b-button",{staticClass:"btn-warning mx-2 my-2",attrs:{type:"submit"}},[e._v("Finalizar edición")]),r("b-button",{staticClass:"btn-danger my-2",on:{click:function(t){e.editar=!1}}},[e._v("Cancelar edición")])],1):e._e(),e.editar?e._e():r("form",{on:{submit:function(t){return e.agregarUser()}}},[r("h3",[e._v("Añadir usuario")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.nombre_user,expression:"newUser.nombre_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre del usuario",required:""},domProps:{value:e.newUser.nombre_user},on:{input:function(t){t.target.composing||e.$set(e.newUser,"nombre_user",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.usuario_user,expression:"newUser.usuario_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"NameTag",required:""},domProps:{value:e.newUser.usuario_user},on:{input:function(t){t.target.composing||e.$set(e.newUser,"usuario_user",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],staticClass:"form-control my-2",attrs:{type:"email",placeholder:"Correo electronico",required:""},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],staticClass:"form-control my-2",attrs:{type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],staticClass:"form-control my-2",attrs:{type:"password",placeholder:"Confirmar contraseña",required:""},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),r("b-button",{staticClass:"btn-success my-2",attrs:{type:"submit"}},[e._v("Agregar Usuario")])],1),r("table",{staticClass:"table"},[e._m(0),r("tbody",e._l(e.user,(function(t,s){return r("tr",{key:s},[r("td",[e._v(e._s(t.nombre_user))]),r("td",[e._v(e._s(t.usuario_user))]),r("td",[e._v(e._s(t.email))]),r("td",[e._v(e._s(t.role))]),r("td",[r("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(r){return e.eliminarUser(t._id)}}},[e._v("Eliminar")]),r("b-button",{staticClass:"btn-warning btn-sm",on:{click:function(r){return e.activarFormEdicion(t._id)}}},[e._v("Editar")])],1)])})),0)])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("Nombre Usuario")]),r("th",{attrs:{scope:"col"}},[e._v("NameTag")]),r("th",{attrs:{scope:"col"}},[e._v("Correo")]),r("th",{attrs:{scope:"col"}},[e._v("Rol")]),r("th",{attrs:{scope:"col"}},[e._v("Acciones")])])])}],i=(r("c740"),r("a434"),r("b956")),u=r("2f62"),c={name:"User",data:function(){return{user:[],dismissSecs:3,dismissCountDown:0,mensaje:{color:"",texto:""},newUser:{nombre_user:"",usuario_user:"",password:"",email:"",role:""},editar:!1,userEditar:{}}},computed:Object(i["a"])({},Object(u["e"])(["token"])),created:function(){this.listarUser()},methods:{listarUser:function(){var e=this;this.axios.get("/user").then((function(t){e.user=t.data})).catch((function(e){console.log(e.response)}))},agregarUser:function(){var e=this,t={headers:{token:this.token}};this.axios.post("/nuevoUser",this.newUser,t).then((function(t){e.user.push(t.data),e.user.nombre_user="",e.user.usuario_user="",e.user.password="",e.user.email="",e.user.role=""(e.mensaje.color="success"),e.mensaje.texto="Usuario creado",e.showAlert()})).catch((function(e){console.log(e.response)}))},eliminarUser:function(e){var t=this;this.axios.delete("/user/".concat(e)).then((function(e){var r=t.user.findIndex((function(t){return t._id===e.data._id}));t.user.splice(r,1),t.mensaje.color="danger",t.mensaje.texto="Usuario eliminado",t.showAlert()})).catch((function(e){console.log(e.response)}))},activarFormEdicion:function(e){var t=this;this.editar=!0,this.axios.get("/user/".concat(e)).then((function(e){t.userEditar=e.data})).catch((function(e){console.log(e.response)}))},editarUser:function(e){var t=this,r={headers:{token:this.token}};this.axios.put("/user/".concat(e._id),e,r).then((function(e){var r=t.user.findIndex((function(t){return t._id===e.data._id}));t.user[r].nombre_user=e.data.nombre_user,t.user[r].usuario_user=e.data.usuario_user,t.user[r].password=e.data.password,t.user[r].email=e.data.email,t.mensaje.color="primary",t.mensaje.texto="Usuario Actualizado",t.showAlert(),t.editar=!1})).catch((function(e){console.log(e.response),t.mensaje.color="danger",t.mensaje.texto="Ops algo salio mal!",t.showAlert()}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},l=c,d=r("0c7c"),m=Object(d["a"])(l,n,a,!1,null,null,null),p=m.exports,f={name:"User",components:{user:p}},v=f,h=Object(d["a"])(v,s,o,!1,null,null,null);t["default"]=h.exports},"1be4":function(e,t,r){var s=r("d066");e.exports=s("document","documentElement")},"1dde":function(e,t,r){var s=r("d039"),o=r("b622"),n=r("2d00"),a=o("species");e.exports=function(e){return n>=51||!s((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2d00":function(e,t,r){var s,o,n=r("da84"),a=r("342f"),i=n.process,u=i&&i.versions,c=u&&u.v8;c?(s=c.split("."),o=s[0]+s[1]):a&&(s=a.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=a.match(/Chrome\/(\d+)/),s&&(o=s[1]))),e.exports=o&&+o},"342f":function(e,t,r){var s=r("d066");e.exports=s("navigator","userAgent")||""},"37e8":function(e,t,r){var s=r("83ab"),o=r("9bf2"),n=r("825a"),a=r("df75");e.exports=s?Object.defineProperties:function(e,t){n(e);var r,s=a(t),i=s.length,u=0;while(i>u)o.f(e,r=s[u++],t[r]);return e}},"44d2":function(e,t,r){var s=r("b622"),o=r("7c73"),n=r("9bf2"),a=s("unscopables"),i=Array.prototype;void 0==i[a]&&n.f(i,a,{configurable:!0,value:o(null)}),e.exports=function(e){i[a][e]=!0}},"7c73":function(e,t,r){var s,o=r("825a"),n=r("37e8"),a=r("7839"),i=r("d012"),u=r("1be4"),c=r("cc12"),l=r("f772"),d=">",m="<",p="prototype",f="script",v=l("IE_PROTO"),h=function(){},w=function(e){return m+f+d+e+m+"/"+f+d},b=function(e){e.write(w("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){var e,t=c("iframe"),r="java"+f+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(w("document.F=Object")),e.close(),e.F},_=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=s?b(s):g();var e=a.length;while(e--)delete _[p][a[e]];return _()};i[v]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[p]=o(e),r=new h,h[p]=null,r[v]=e):r=_(),void 0===t?r:n(r,t)}},8418:function(e,t,r){"use strict";var s=r("c04e"),o=r("9bf2"),n=r("5c6c");e.exports=function(e,t,r){var a=s(t);a in e?o.f(e,a,n(0,r)):e[a]=r}},a434:function(e,t,r){"use strict";var s=r("23e7"),o=r("23cb"),n=r("a691"),a=r("50c4"),i=r("7b0b"),u=r("65f0"),c=r("8418"),l=r("1dde"),d=r("ae40"),m=l("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min,h=9007199254740991,w="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!m||!p},{splice:function(e,t){var r,s,l,d,m,p,b=i(this),g=a(b.length),_=o(e,g),x=arguments.length;if(0===x?r=s=0:1===x?(r=0,s=g-_):(r=x-2,s=v(f(n(t),0),g-_)),g+r-s>h)throw TypeError(w);for(l=u(b,s),d=0;d<s;d++)m=_+d,m in b&&c(l,d,b[m]);if(l.length=s,r<s){for(d=_;d<g-s;d++)m=d+s,p=d+r,m in b?b[p]=b[m]:delete b[p];for(d=g;d>g-s+r;d--)delete b[d-1]}else if(r>s)for(d=g-s;d>_;d--)m=d+s-1,p=d+r-1,m in b?b[p]=b[m]:delete b[p];for(d=0;d<r;d++)b[d+_]=arguments[d+2];return b.length=g-s+r,l}})},c740:function(e,t,r){"use strict";var s=r("23e7"),o=r("b727").findIndex,n=r("44d2"),a=r("ae40"),i="findIndex",u=!0,c=a(i);i in[]&&Array(1)[i]((function(){u=!1})),s({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)},df75:function(e,t,r){var s=r("ca84"),o=r("7839");e.exports=Object.keys||function(e){return s(e,o)}}}]);
//# sourceMappingURL=usuario.9fd3154f.js.map