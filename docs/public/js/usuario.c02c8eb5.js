(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuario"],{1511:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"user"},[t("user")],1)},o=[],n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container my-2"},[t("h1",[e._v("Ruta Administrador!")]),t("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.mensaje.color},on:{dismissed:function(r){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(e._s(e.mensaje.texto))]),e.editar?t("form",{on:{submit:function(r){return r.preventDefault(),e.editarUser(e.userEditar)}}},[t("h3",[e._v("Editar usuario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.nombre_user,expression:"userEditar.nombre_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre del usuario"},domProps:{value:e.userEditar.nombre_user},on:{input:function(r){r.target.composing||e.$set(e.userEditar,"nombre_user",r.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.usuario_user,expression:"userEditar.usuario_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"GameTag"},domProps:{value:e.userEditar.usuario_user},on:{input:function(r){r.target.composing||e.$set(e.userEditar,"usuario_user",r.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userEditar.email,expression:"userEditar.email"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Correo electronico"},domProps:{value:e.userEditar.email},on:{input:function(r){r.target.composing||e.$set(e.userEditar,"email",r.target.value)}}}),t("b-form-group",{attrs:{label:"Rol Usuario"}},[t("b-form-radio",{attrs:{name:"USER",value:"USER"},model:{value:e.userEditar.role,callback:function(r){e.$set(e.userEditar,"role",r)},expression:"userEditar.role"}},[e._v("Usuario")]),t("b-form-radio",{attrs:{name:"EMP",value:"EMP"},model:{value:e.userEditar.role,callback:function(r){e.$set(e.userEditar,"role",r)},expression:"userEditar.role"}},[e._v("Empleado")]),t("b-form-radio",{attrs:{name:"ADMIN",value:"ADMIN"},model:{value:e.userEditar.role,callback:function(r){e.$set(e.userEditar,"role",r)},expression:"userEditar.role"}},[e._v("Administrador")])],1),t("b-button",{staticClass:"btn-warning mx-2 my-2",attrs:{type:"submit"}},[e._v("Finalizar edici칩n")]),t("b-button",{staticClass:"btn-danger my-2",on:{click:function(r){e.editar=!1}}},[e._v("Cancelar edici칩n")])],1):e._e(),e.editar?e._e():t("form",{on:{submit:function(r){return e.agregarUser()}}},[t("h3",[e._v("A침adir usuario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.nombre_user,expression:"newUser.nombre_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre del usuario",required:""},domProps:{value:e.newUser.nombre_user},on:{input:function(r){r.target.composing||e.$set(e.newUser,"nombre_user",r.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.usuario_user,expression:"newUser.usuario_user"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"NameTag",required:""},domProps:{value:e.newUser.usuario_user},on:{input:function(r){r.target.composing||e.$set(e.newUser,"usuario_user",r.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],staticClass:"form-control my-2",attrs:{type:"email",placeholder:"Correo electronico",required:""},domProps:{value:e.newUser.email},on:{input:function(r){r.target.composing||e.$set(e.newUser,"email",r.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],staticClass:"form-control my-2",attrs:{type:"password",placeholder:"Contrase침a",required:""},domProps:{value:e.newUser.password},on:{input:function(r){r.target.composing||e.$set(e.newUser,"password",r.target.value)}}}),t("b-form-group",{attrs:{label:"Rol Usuario"}},[t("b-form-radio",{attrs:{name:"USER",value:"USER"},model:{value:e.newUser.role,callback:function(r){e.$set(e.newUser,"role",r)},expression:"newUser.role"}},[e._v("Usuario")]),t("b-form-radio",{attrs:{name:"EMP",value:"EMP"},model:{value:e.newUser.role,callback:function(r){e.$set(e.newUser,"role",r)},expression:"newUser.role"}},[e._v("Empleado")]),t("b-form-radio",{attrs:{name:"ADMIN",value:"ADMIN"},model:{value:e.newUser.role,callback:function(r){e.$set(e.newUser,"role",r)},expression:"newUser.role"}},[e._v("Administrador")])],1),t("b-button",{staticClass:"btn-success my-2",attrs:{type:"submit"}},[e._v("Agregar Usuario")])],1),t("table",{staticClass:"table"},[e._m(0),t("tbody",e._l(e.user,(function(r,s){return t("tr",{key:s},[t("td",[e._v(e._s(r.nombre_user))]),t("td",[e._v(e._s(r.usuario_user))]),t("td",[e._v(e._s(r.email))]),t("td",[e._v(e._s(r.role))]),t("td",[t("b-button",{staticClass:"btn-danger btn-sm mx-2",on:{click:function(t){return e.eliminarUser(r._id)}}},[e._v("Eliminar")]),t("b-button",{staticClass:"btn-warning btn-sm",on:{click:function(t){return e.activarFormEdicion(r._id)}}},[e._v("Editar")])],1)])})),0)])],1)},a=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("Nombre Usuario")]),t("th",{attrs:{scope:"col"}},[e._v("NameTag")]),t("th",{attrs:{scope:"col"}},[e._v("Correo")]),t("th",{attrs:{scope:"col"}},[e._v("Rol")]),t("th",{attrs:{scope:"col"}},[e._v("Acciones")])])])}],i=(t("c740"),t("a434"),{name:"User",data:function(){return{user:[],dismissSecs:3,dismissCountDown:0,mensaje:{color:"",texto:""},newUser:{nombre_user:"",usuario_user:"",password:"",email:"",role:""},editar:!1,userEditar:{}}},created:function(){this.listarUser()},methods:{listarUser:function(){var e=this;this.axios.get("/user").then((function(r){e.user=r.data})).catch((function(e){console.log(e)}))},agregarUser:function(){var e=this;this.axios.post("/nuevoUser",this.newUser).then((function(r){e.user.push(r.data),e.user.nombre_user="",e.user.usuario_user="",e.user.password="",e.user.email="",e.user.role="",e.mensaje.color="success",e.mensaje.texto="Usuario creado satisfactoriamente",e.showAlert(),console.log(e.user)})).catch((function(r){console.log(r),e.mensaje.color="danger",e.mensaje.texto="Ops algo salio mal!!",e.showAlert()}))},eliminarUser:function(e){var r=this;this.axios.delete("/user/".concat(e)).then((function(e){var t=r.user.findIndex((function(r){return r._id===e.data._id}));r.user.splice(t,1),r.mensaje.color="warning",r.mensaje.texto="Usuario eliminado",r.showAlert()})).catch((function(e){console.log(e),r.mensaje.color="danger",r.mensaje.texto="Ops algo salio mal!!",r.showAlert()}))},activarFormEdicion:function(e){var r=this;this.editar=!0,this.axios.get("/user/".concat(e)).then((function(e){r.userEditar=e.data})).catch((function(e){console.log(e)}))},editarUser:function(e){var r=this;this.axios.put("/user/".concat(e._id),e).then((function(e){var t=r.user.findIndex((function(r){return r._id===e.data._id}));r.user[t].nombre_user=e.data.nombre_user,r.user[t].usuario_user=e.data.usuario_user,r.user[t].password=e.data.password,r.user[t].email=e.data.email,r.user[t].role=e.data.role,r.mensaje.color="primary",r.mensaje.texto="Usuario Actualizado",r.showAlert(),r.editar=!1})).catch((function(e){console.log(e),r.mensaje.color="danger",r.mensaje.texto="Ops algo salio mal!",r.showAlert()}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}}}),u=i,l=t("0c7c"),c=Object(l["a"])(u,n,a,!1,null,null,null),d=c.exports,m={name:"User",components:{user:d}},f=m,p=Object(l["a"])(f,s,o,!1,null,null,null);r["default"]=p.exports},"1be4":function(e,r,t){var s=t("d066");e.exports=s("document","documentElement")},"1dde":function(e,r,t){var s=t("d039"),o=t("b622"),n=t("2d00"),a=o("species");e.exports=function(e){return n>=51||!s((function(){var r=[],t=r.constructor={};return t[a]=function(){return{foo:1}},1!==r[e](Boolean).foo}))}},"2d00":function(e,r,t){var s,o,n=t("da84"),a=t("342f"),i=n.process,u=i&&i.versions,l=u&&u.v8;l?(s=l.split("."),o=s[0]+s[1]):a&&(s=a.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=a.match(/Chrome\/(\d+)/),s&&(o=s[1]))),e.exports=o&&+o},"342f":function(e,r,t){var s=t("d066");e.exports=s("navigator","userAgent")||""},"37e8":function(e,r,t){var s=t("83ab"),o=t("9bf2"),n=t("825a"),a=t("df75");e.exports=s?Object.defineProperties:function(e,r){n(e);var t,s=a(r),i=s.length,u=0;while(i>u)o.f(e,t=s[u++],r[t]);return e}},"44d2":function(e,r,t){var s=t("b622"),o=t("7c73"),n=t("9bf2"),a=s("unscopables"),i=Array.prototype;void 0==i[a]&&n.f(i,a,{configurable:!0,value:o(null)}),e.exports=function(e){i[a][e]=!0}},"7c73":function(e,r,t){var s,o=t("825a"),n=t("37e8"),a=t("7839"),i=t("d012"),u=t("1be4"),l=t("cc12"),c=t("f772"),d=">",m="<",f="prototype",p="script",v=c("IE_PROTO"),b=function(){},h=function(e){return m+p+d+e+m+"/"+p+d},w=function(e){e.write(h("")),e.close();var r=e.parentWindow.Object;return e=null,r},_=function(){var e,r=l("iframe"),t="java"+p+":";return r.style.display="none",u.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},g=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(r){}g=s?w(s):_();var e=a.length;while(e--)delete g[f][a[e]];return g()};i[v]=!0,e.exports=Object.create||function(e,r){var t;return null!==e?(b[f]=o(e),t=new b,b[f]=null,t[v]=e):t=g(),void 0===r?t:n(t,r)}},8418:function(e,r,t){"use strict";var s=t("c04e"),o=t("9bf2"),n=t("5c6c");e.exports=function(e,r,t){var a=s(r);a in e?o.f(e,a,n(0,t)):e[a]=t}},a434:function(e,r,t){"use strict";var s=t("23e7"),o=t("23cb"),n=t("a691"),a=t("50c4"),i=t("7b0b"),u=t("65f0"),l=t("8418"),c=t("1dde"),d=t("ae40"),m=c("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,b=9007199254740991,h="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!m||!f},{splice:function(e,r){var t,s,c,d,m,f,w=i(this),_=a(w.length),g=o(e,_),x=arguments.length;if(0===x?t=s=0:1===x?(t=0,s=_-g):(t=x-2,s=v(p(n(r),0),_-g)),_+t-s>b)throw TypeError(h);for(c=u(w,s),d=0;d<s;d++)m=g+d,m in w&&l(c,d,w[m]);if(c.length=s,t<s){for(d=g;d<_-s;d++)m=d+s,f=d+t,m in w?w[f]=w[m]:delete w[f];for(d=_;d>_-s+t;d--)delete w[d-1]}else if(t>s)for(d=_-s;d>g;d--)m=d+s-1,f=d+t-1,m in w?w[f]=w[m]:delete w[f];for(d=0;d<t;d++)w[d+g]=arguments[d+2];return w.length=_-s+t,c}})},c740:function(e,r,t){"use strict";var s=t("23e7"),o=t("b727").findIndex,n=t("44d2"),a=t("ae40"),i="findIndex",u=!0,l=a(i);i in[]&&Array(1)[i]((function(){u=!1})),s({target:"Array",proto:!0,forced:u||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)},df75:function(e,r,t){var s=t("ca84"),o=t("7839");e.exports=Object.keys||function(e){return s(e,o)}}}]);
//# sourceMappingURL=usuario.c02c8eb5.js.map